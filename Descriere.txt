1. Introducere

Acest site are rolul de a prezice probabilitatea ca un meci de Hattrick sa se incheie cu victoria echipei gazda (1), sa se incheie la egalitate (X) sau victoria echipei oaspete (2) in functie de evaluarile pe care le au cele doua echipe ce se confrunta. Acest lucru il face luand dintr-o baza de date toate meciurile in care echipele au aceleasi evaluari ca si cele pentru care se doreste simularea.

Interfata programului va fi in engleza si romana (3)

2. Intrari si iesiri

Date de intrare:
 1. mijlocul echipei gazda;
 2. apararea pe dreapta a echipei gazda;
 3. apararea pe centru a echipei gazda;
 4. apararea pe stanga a echipei gazda;
 5. atacul pe dreapta al echipei gazda;
 6. atacul pe centru al echipei gazda;
 7. atacul pe stanga al echipei gazda;
 8. mijlocul echipei oaspete;
 9. apararea pe dreapta a echipei oaspete;
 10. apararea pe centru a echipei oaspete;
 11. apararea pe stanga a echipei oaspete;
 12. atacul pe dreapta al echipei oaspete;
 13. atacul pe centru al echipei oaspete;
 14. atacul pe stanga al echipei oaspete.

Date de iesire:
 1. procentajul de castig a echipei gazda (1);
 2. procentajul ca meciul sa se termine egal (X);
 3. procentajul de castig a echipei oaspete (2);
 4. media de goluri inscrisa de echipa gazda;
 5. media de goluri inscrisa de echipa oaspete.

Pentru a obtine datele de iesire, programul indeplineste urmatorul algoritm (1):
 1. selecteaza dintr-o baza de date ce contine un numar mare de meciuri, acele meciuri care au avut evaluari identice cu cele introduse de catre utilizator;
 2. numara cate meciuri a selectat;
 3. numara cate victorii are fiecare echipa si cate meciuri s-au terminat la egalitate;
 4. calculeaza media de goluri inscrise de catre gazde si de catre oaspeti ca fiind suma golurilor inscrise de catre aceste echipe impartite la numarul de meciuri selectate.

3. Conexiunea cu serverul si continutul descarcat

Conexiunea cu serverul se face conform documentatiei Hattrick.

Prima data cand se realizeaza conexiunea cu serverul, utilizatorul va trebui sa introduca intr-o fereastra a aplicatiei un sir de caractere numit "pin"

Jetoanele de acces vor fi pastrate (undeva)

Fisierele care vor fi descarcate de-a lungul utilizarii programului sunt:
	1. managercompendium. Pentru datele despre utilizator
		Date de intrare:
		1.1. -;

		Date de iesire necesare:
		1.1. Loginname;
		1.2. UserID;
		1.3. SupporterTier;
		1.4. CountryName;
		1.5. CountryId;
		1.6. TeamName;
		1.7. TeamId;
		1.8. LeagueName;
		1.9. LeagueId;
		1.10. CountryName;
		1.11. CountryId;
		1.12. LeagueLevelUnitName;
		1.13. LeagueLevelUnitId (1.6 - 1.13 sunt pentru toate echipele pe care le are);

	2. matches. Pentru a vedea care sunt meciurile viitoare ale unei echipe.
		Date de intrare:
		2.1. teamID = (depinde de echipa cu care lucrez);

		Date de iesire necesare:
		2.1. MatchID;
		2.2. MatchType;
		2.3. HomeTeamName (din motive de interfata);
		2.4. AwayTeamName (din motive de interfata);

	3. matchdetails. Pentru a vedea evaluarile celor doua echipe pentru un anumit meci.
		Date de intrare:
		3.1. matchID (valoare introdusa fie de utilizator, fie de program, luata din fisierul matches, in functie de caz);
		3.2. sourceSystem = hattrick;

		Date de iesire necesare:
		3.1. MatchType (retine tipul meciului. Le iau in considerare pe cele care sunt de liga sau de cupa, reguli normale);
		3.2. HomeGoals;
		3.3. HomeTeam.RatingMidfield;
		3.4. HomeTeam.RatingRightDef;
		3.5. HomeTeam.RatingMidDef;
		3.6. HomeTeam.RatingLeftDef;
		3.7. HomeTeam.RatingRightAtt;
		3.8. HomeTeam.RatingMidAtt;
		3.9. HomeTeam.RatingLeftAtt;
		3.10. AwayGoals;
		3.11. AwayTeam.RatingMidfield;
		3.12. AwayTeam.RatingRightDef;
		3.13. AwayTeam.RatingMidDef;
		3.14. AwayTeam.RatingLeftDef;
		3.15. AwayTeam.RatingRightAtt;
		3.16. AwayTeam.RatingMidAtt;
		3.17. AwayTeam.RatingLeftAtt;

	4. matchorders. De acolo iau evaluarile estimate pentru un meci viitor.
		Date de intrare:
		4.1. actionType = predictratings;
		4.2. matchID (meciul de la care vreau sa preiau evaluarile pentru predictie);

		Date de iesire necesare:
		4.1. MatchData.RatingMidfield;
		4.2. MatchData.RatingRightDef;
		4.3. MatchData.RatingMidDef;
		4.4. MatchData.RatingLeftDef;
		4.5. MatchData.RatingRightAtt;
		4.6. MatchData.RatingMidAtt;
		4.7. MatchData.RatingLeftAtt;

	5. matchesarchive. E folosit pentru a adauga in baza de date meciurile dintr-un sezon al carui numar este specificat de catre utilizator.
		Date de intrare:
		5.1. teamID = numarul de identificare al echipei de la care descarc meciurile;
		5.2. season = sezonul pentru care se descarca meciurile echipei alese.

		Date de iesire necesare:
		5.1. MatchList.Match.MatchID (va fi folosit ca data de intrare la fisierul matchdetails)

Fisierele descarcate vor fi salvare in folderul XML, astfel:
	1. Continutul descarcat din managercompendium va fi salvat in fisierul "User.xml";
	2. Continutul descarcat din matches va fi salvat in fisierul "Matches.xml";
	3. Continutul descarcat din matchdetails va fi salvat in fisierul "MatchDetails.xml";
	4. Continutul descarcat din matchorders va fi salvat in fisierul "Orders.xml".
	5. Continutul descarcat din matchesarchive va fi salvar in fisierul "Archive.xml"

4. Baza de date

Baza de date va contine o singura tabela, denumita "Meciuri" si care are urmatoarea structura:
 1. MatchID: integer; (ID unic)
 2. HomeTeamMidfield: integer;
 3. HomeTeamRDefense: integer; (R=right, C=central, L=left)
 4. HomeTeamCDefense: integer;
 5. HomeTeamLDefense: integer;
 6. HomeTeamRAttack: integer;
 7. HomeTeamCAttack: integer;
 8. HomeTeamLAttack: integer;
 9. AwayTeamMidfield: integer;
 10. AwayTeamRDefense: integer;
 11. AwayTeamCDefense: integer;
 12. AwayTeamLDefense: integer;
 13. AwayTeamRAttack: integer;
 14. AwayTeamCAttack: integer;
 15. AwayTeamLAttack: integer;
 16. HomeTeamGoals: integer;
 17. AwayTeamGoals: integer;

5. Modul de lucru cu site-ul

Sunt doua moduri in care poate fi utilizat acest site:
 1. Modul anonim. Utilizatorul introduce cele 14 evaluari si primeste cele 5 date de iesire;
 2. Modul conectat. Acest mod permite utilizatorului sa selecteze unul dintre meciurile viitoare ale echipei sale, iar campurile cu evaluarile echipei sale vor fi automat populate. Campurile cu evaluarile echipei adverse vor fi completate de catre utilizator dupa cum crede el de cuviinta (este clar ca asta e singura solutie).

In afara de aceste doua moduri, site-ul va mai avea si un panou de administrator, la care numai eu voi avea acces. Acest panou are ca scop gestionarea bazei de cate care va contine meciurile. Mai precis, o sa pot adauga in baza de date evaluarile meciurilor care au numerele de identificare intre doua valori, una superioara si una inferioara. Pentru conectare, vor fi necesare un nume de utilizator si o parola.

La selectarea meciurilor pentru calculul marimilor dorite nu sunt luate in considerare tactica, nivelul tactic si stilul de joc, ci numai evaluarile pe sectoare, dupa cum a fost spus mai sus. De fapt, aceste criterii nici nu pot fi selectate de catre utilizator (1). Meciurile luate in considerare vor fi cele din campionat si meciurile amicale care nu sunt de tip cupa (2).

6. Structura site-ului

 1. index. Contine modul de lucru anonim. Aceasta pagina are:
    1. cele 14 date de intrare;
    2. butonul de conectare, pentru intrarea in modul conectat;
    3. un buton de pornire a calculelor;
    4. 5 etichete care sa afiseze rezultatele:
       1. eticheta pentru procentajul de victorii acasa;
       2. eticheta pentru procentajul de meciuri egale;
       3. eticheta pentru procentajul de victorii in deplasare;
       4. eticheta pentru media de goluri inscrise de echipa de acasa;
       5. eticheta pentru media de goluri inscrise de echipa din deplasare
    5. un buton/link (sau altceva) catre fereastra cu panoul de control

7. Optiunile site-ului

Optiunile pentru site vor fi retinute intr-un cookie. Aceste optiuni sunt:
 1. Limba interfetei: romana sau engleza;
 2.

8. Notite pentru versiuni viitoare:

 (1) - la o versiune viitoare sa iau in considerare si acesti parametri, putand fi selectati pentru filtrare;
 (2) - sa vad daca pot face ceva cu meciurile din cupe si cu amicalele de tip cupa;
 (3) - probabil voi introduce si alte limbi;
 (4) -